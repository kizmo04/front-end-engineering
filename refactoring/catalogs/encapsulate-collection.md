# 컬렉션 캡슐화 하기 (Encapsulation Collection)

컬렉션의 캡슐화를 통해 클래스가 모르는 사이 컬렉션의 원소가 바뀌는 것을 방지한다.

## 🗣 설명

### 🧐 As is

```js
class Person {
	get courses() { return this._courses; }
	set courses(aList) { this._courses = aList;}
}
```

### 😍 To be

```js
class Person {
	get courses() { return this._course.slice();}
	addCourse(aCourse){ ... }
	removeCourse(aCourse){ ... }
}
```

### 📋 상세

클라이언트 코드가 컬렉션이 속한 클래스가 인지하지 못하는 사이에 컬렉션의 내용을 바꾸는 문제를 방지하기 위해 캡슐화를 시킨다.
컬렉션을 리턴하는 함수가 있다면 원본이 아닌 복제본을 리턴하도록 한다. 그리고 컬렉션 자체를 바꾸는 세터는 제거하고, 컬렉션애 접근하려면 컬렉션이 속한 클래스의 메서드를 통해서만 가능하도록 한다.(add/remove 메서드 제공)

### ⚙️ 절차

1. 컬렉션을 캡슐화 하지 않았다면 변수 캡슐화를 진행한다.
2. 컬렉션에 원소를 추가/제거 하는 함수를 추가한다.
3. 정적 검사를 수행한다.
4. 컬렉션을 참조하는 부분을 찾아 컬렉션의 변경자를 호출하는 함수를 새로 추가한 추가/제거 함수로 변경한다.
5. 컬렉션 게터 함수는 읽기전용 프록시나 복제본을 반환하게 한다.(복제본 반환이 가장 많이 사용되는 방식.)
6. 테스트한다.
